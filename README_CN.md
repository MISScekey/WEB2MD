# 🌐 Web2MD - 网页转 Markdown 转换器

一个 Chrome 浏览器插件，可以一键将任何网页转换为 Markdown 格式。从任何网站提取、复制和下载干净的 Markdown 内容。

## ✨ 功能特色

- **一键转换**: 单击即可将任何网页转换为 Markdown
- **智能内容提取**: 自动提取主要内容，同时过滤广告、导航和评论
- **剪贴板复制**: 将转换后的 Markdown 直接复制到剪贴板
- **文件下载**: 将 Markdown 内容下载为 `.md` 文件
- **自定义选项**: 选择包含的内容（图片、链接、智能提取）
- **简洁界面**: 简单直观的弹窗界面
- **深色模式支持**: 自动适应系统主题

## 📦 安装方法

### 从 Chrome 网上应用店安装
*即将推出 - 插件目前正在开发中*

### 手动安装（开发者模式）

1. **下载插件**
   ```bash
   git clone https://github.com/yourusername/web2md.git
   cd web2md
   ```

2. **创建必需的图标文件**
   - 在 `icons/` 目录中创建 PNG 图标：
     - `icon16.png` (16x16 像素)
     - `icon48.png` (48x48 像素)
     - `icon128.png` (128x128 像素)
   - 可以使用提供的 `icons/icon.svg` 作为模板

3. **在 Chrome 中加载插件**
   - 打开 Chrome 并前往 `chrome://extensions/`
   - 启用"开发者模式"（右上角切换）
   - 点击"加载已解压的扩展程序"
   - 选择 `web2md` 目录
   - 插件图标应该出现在工具栏中

## 🚀 使用方法

### 基本使用

1. **导航到要转换的网页**
2. **点击工具栏中的 Web2MD 插件图标**
3. **点击"转换为 Markdown"按钮**
4. **选择操作**：
   - **复制到剪贴板**: 将 Markdown 复制到剪贴板
   - **下载 .md 文件**: 将内容下载为 Markdown 文件

### 高级选项

转换前可以自定义输出：

- **包含图片**: ✅ 在 Markdown 输出中包含图片
- **包含链接**: ✅ 在转换的内容中保留超链接
- **智能内容提取**: ✅ 使用 AI 驱动的内容提取来过滤导航、广告和评论

### 转换选项说明

#### 智能内容提取
启用时，插件使用 Mozilla 的 Readability 算法来：
- 提取主要文章内容
- 移除导航菜单、侧边栏和页眉
- 过滤广告和推广内容
- 忽略评论部分和相关文章
- 专注于主要可读内容

#### 包含图片
- ✅ **启用**: 保留所有图片，使用正确的 Markdown 语法 `![替代文本](图片地址)`
- ❌ **禁用**: 从输出中移除所有图片

#### 包含链接
- ✅ **启用**: 保留超链接，使用 Markdown 语法 `[链接文本](网址)`
- ❌ **禁用**: 将链接转换为纯文本

## 📋 支持的内容类型

Web2MD 适用于各种网页内容：

- **文章和博客文章**: 新闻文章、博客文章、文档
- **学术论文**: 研究论文、白皮书、学术内容
- **文档**: 技术文档、API 文档、教程
- **论坛和讨论**: 论坛帖子、问答内容
- **电商页面**: 产品描述、评论
- **社交媒体**: 帖子、话题（在可访问的情况下）

## 🔧 技术详情

### 构建技术
- **Manifest V3**: 最新的 Chrome 插件标准
- **Turndown.js**: HTML 到 Markdown 转换
- **Readability.js**: Mozilla 的内容提取算法
- **原生 JavaScript**: 无外部框架
- **现代 CSS**: 响应式设计，支持深色模式

### 所需权限
- **activeTab**: 访问当前网页内容
- **clipboardWrite**: 复制内容到剪贴板
- **downloads**: 下载 Markdown 文件

### 文件结构
```
web2md/
├── manifest.json          # 插件配置
├── popup.html            # 插件弹窗界面
├── popup.css             # 弹窗样式
├── popup.js              # 弹窗功能
├── content.js            # 内容提取脚本
├── background.js         # 后台服务工作器
├── libs/                 # 外部库
│   ├── turndown.js       # HTML 到 Markdown 转换器
│   └── readability.js    # 内容提取
├── icons/                # 插件图标
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md             # 本文件
```

## 🎯 使用场景

### 内容创作者
- 转换文章用于研究和参考
- 提取内容作为博客文章灵感
- 以 Markdown 格式存档重要文章

### 开发者
- 将文档转换为 Markdown 用于 README 文件
- 提取代码示例和教程
- 创建技术文档备份

### 学生和研究人员
- 将学术论文转换为可读格式
- 提取研究内容用于笔记
- 创建 Markdown 格式的学习资料

### 作家和编辑
- 转换网页内容用于编辑
- 提取文章用于分析
- 创建内容备份

## 🛠️ 开发指南

### 先决条件
- Google Chrome 浏览器
- Chrome 插件开发基础知识

### 设置开发环境
1. 克隆仓库
2. 安装依赖（如果有）
3. 在开发者模式下加载插件
4. 进行更改并重新加载插件

### 测试
在各种网站上测试插件：
- 新闻网站（CNN、BBC 等）
- 博客平台（Medium、WordPress）
- 文档站点（MDN、Stack Overflow）
- 电商网站（Amazon、eBay）

## 🐛 故障排除

### 常见问题

#### 插件无法加载
- **问题**: 插件图标不出现
- **解决方案**: 确保 `icons/` 目录中存在所有必需的图标文件

#### 转换失败
- **问题**: 出现"转换失败"错误消息
- **解决方案**: 
  - 检查页面是否有可提取的内容
  - 尝试禁用"智能内容提取"
  - 刷新页面后重试

#### 未提取到内容
- **问题**: 空白或最少的 Markdown 输出
- **解决方案**:
  - 对复杂页面禁用"智能内容提取"
  - 检查页面内容是否动态加载
  - 等待页面完全加载后再尝试转换

#### 复制到剪贴板失败
- **问题**: 内容未复制到剪贴板
- **解决方案**: 
  - 确保已授予剪贴板权限
  - 尝试使用下载选项
  - 检查浏览器剪贴板访问设置

### 浏览器支持
- **Chrome**: 88+
- **Edge**: 88+
- **Brave**: 最新版本
- **其他 Chromium 浏览器**: 应该可以工作但未测试

## 📈 性能

### 优化功能
- **延迟加载**: 内容脚本仅在需要时加载
- **智能缓存**: 高效的 DOM 解析和内容提取
- **最小内存使用**: 转换后清理资源
- **快速转换**: 优化算法实现快速处理

### 限制
- **单页应用**: 对 SPA 的支持可能不完美
- **动态内容**: 可能会遗漏一些动态加载的内容
- **大型页面**: 非常大的页面可能需要更长的处理时间
- **受保护内容**: 无法访问需要身份验证的内容

## 🤝 贡献

欢迎贡献！请：

1. Fork 仓库
2. 创建功能分支
3. 进行更改
4. 如适用，添加测试
5. 提交拉取请求

### 开发指南
- 遵循现有代码风格
- 为复杂逻辑添加注释
- 在多个网站上测试
- 根据需要更新文档

## 📄 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件。

## 🔒 隐私政策

Web2MD 尊重您的隐私：
- **无数据收集**: 插件不收集任何个人数据
- **本地处理**: 所有转换都在浏览器本地进行
- **无外部服务器**: 不向外部服务器发送数据
- **最小权限**: 仅请求必要权限

## 📞 支持

- **问题**: [GitHub Issues](https://github.com/yourusername/web2md/issues)
- **功能请求**: [GitHub Discussions](https://github.com/yourusername/web2md/discussions)
- **邮箱**: your.email@example.com

## 🚀 路线图

### 版本 2.0（计划中）
- [ ] 右键菜单集成
- [ ] 多标签页批量转换
- [ ] 自定义 Markdown 模板
- [ ] 导出到流行的笔记应用
- [ ] 键盘快捷键

### 版本 2.1（计划中）
- [ ] 基于选择的转换
- [ ] 转换历史
- [ ] 自定义 CSS 选择器
- [ ] API 集成（Notion、Obsidian）

## 🙏 致谢

- **Mozilla Readability**: 出色的内容提取算法
- **Turndown.js**: 可靠的 HTML 到 Markdown 转换
- **Chrome 插件社区**: 文档和最佳实践

## 📊 统计

- **打包大小**: ~110KB（包含库）
- **转换速度**: 典型网页 ~1-3 秒
- **支持格式**: HTML、XHTML、XML
- **输出格式**: GitHub 风格 Markdown

---

**用 ❤️ 制作，作者：[Jon]**

*一键将任何网页转换为 Markdown！*